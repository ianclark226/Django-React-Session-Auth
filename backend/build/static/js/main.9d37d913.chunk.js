(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(16),r=n.n(s),i=(n(36),n(37),n(3)),o=n(2),l=n(9),u=n(8),j=n.n(u),b=n(12),d=n(13),h=n.n(d),p="REGISTER_SUCCESS",m="REGISTER_FAIL",O="LOGIN_SUCCESS",x="LOGIN_FAIL",f="LOGOUT_SUCCESS",g="LOGOUT_FAIL",v=n(18),N=n.n(v),y=n(1),w=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":N.a.get("csrftoken")}},a=JSON.stringify({withCredentials:!0}),e.prev=2,e.next=5,h.a.post("".concat("http://localhost:8000","/accounts/logout"),a,n);case 5:(c=e.sent).data.success?t({type:f,payload:c.data.username}):t({type:g}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:g});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,n=e.logout,c=Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.c,{className:"nav-link",to:"/dashboard",children:"Dashboard"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)("a",{className:"nav-link",onClick:n,href:"#!",children:"Logout"})})]}),s=Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.c,{className:"nav-link",to:"/register",children:"Register"})})]});return Object(y.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(y.jsxs)("div",{className:"container-fluid",children:[Object(y.jsx)(i.b,{className:"navbar-brand",exact:!0,to:"/",children:"Session Auth"}),Object(y.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{className:"navbar-toggler-icon"})}),Object(y.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(y.jsxs)("ul",{className:"navbar-nav",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(i.c,{className:"nav-link",exact:!0,to:"/",children:"Home"})}),t?c:s]})})]})})})),S=function(e){var t=e.children;return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsx)(w,{}),t]})},k=function(){return Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"mt-5 p-5 bg-light",children:[Object(y.jsx)("h1",{className:"display-4",children:"Welcome to Session Auth"}),Object(y.jsx)("p",{className:"lead",children:"This is a wonderful applicaiton with session authentication in React and Django."}),Object(y.jsx)("hr",{className:"my-4"}),Object(y.jsx)("p",{children:"Click the button below to log in."}),Object(y.jsx)(i.b,{className:"btn btn-primary btn-lg",to:"/login",children:"Login"})]})})},C=n(10),A=n(7),L=n(6),T=function(){var e=Object(a.useState)(""),t=Object(L.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://localhost:8000","/accounts/csrf_cookie"));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();e(),c(function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var c=n[a].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrftoken"))}),[]),Object(y.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:n})},F=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(c){var s,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":N.a.get("csrftoken")}},r=JSON.stringify({username:e,password:t,re_password:n}),a.prev=2,a.next=5,h.a.post("".concat("http://localhost:8000","/accounts/register"),r,s);case 5:a.sent.data.error?c({type:m}):c({type:p}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),c({type:m});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.register,n=e.isAuthenticated,c=Object(a.useState)({username:"",password:"",re_password:""}),s=Object(L.a)(c,2),r=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(L.a)(u,2),b=j[0],d=j[1],h=r.username,p=r.password,m=r.re_password,O=function(e){return l(Object(A.a)(Object(A.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))};return n?Object(y.jsx)(o.a,{to:"/dashboard"}):b?Object(y.jsx)(o.a,{to:"/login"}):Object(y.jsxs)("div",{className:"container mt-5",children:[Object(y.jsx)("h1",{children:"Register for an Account"}),Object(y.jsx)("p",{children:"Create an account with our Session Auth application"}),Object(y.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),p===m&&(t(h,p,m),d(!0))}(e)},children:[Object(y.jsx)(T,{}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{className:"form-label",children:"Username: "}),Object(y.jsx)("input",{className:"form-control",type:"text",placeholder:"Enter Username*",name:"username",onChange:function(e){return O(e)},value:h,required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{className:"form-label mt-3",children:"Password: "}),Object(y.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter Password*",name:"password",onChange:function(e){return O(e)},value:p,minLength:"6",required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{className:"form-label mt-3",children:"Confirm Password: "}),Object(y.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",onChange:function(e){return O(e)},value:m,minLength:"6",required:!0})]}),Object(y.jsx)("button",{className:"btn btn-primary mt-4",type:"submit",children:"Register"})]}),Object(y.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(y.jsx)(i.b,{to:"/login",children:"Login"})]})]})})),R=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var c,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":N.a.get("csrftoken")}},s=JSON.stringify({username:e,password:t}),n.prev=2,n.next=5,h.a.post("".concat("http://localhost:8000","/accounts/login"),s,c);case 5:n.sent.data.success?a({type:O}):a({type:x}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a({type:x});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuthenticated,c=Object(a.useState)({username:"",password:""}),s=Object(L.a)(c,2),r=s[0],l=s[1],u=r.username,j=r.password,b=function(e){return l(Object(A.a)(Object(A.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))};return n?Object(y.jsx)(o.a,{to:"/dashboard"}):Object(y.jsxs)("div",{className:"container mt-5",children:[Object(y.jsx)("h1",{children:"Sign In"}),Object(y.jsx)("p",{children:"Sign into your Session Auth account"}),Object(y.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(u,j)}(e)},children:[Object(y.jsx)(T,{}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{className:"form-label",children:"Username: "}),Object(y.jsx)("input",{className:"form-control",type:"text",placeholder:"Username*",name:"username",onChange:function(e){return b(e)},value:u,required:!0})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{className:"form-label mt-3",children:"Password: "}),Object(y.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",onChange:function(e){return b(e)},value:j,minLength:"6",required:!0})]}),Object(y.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Login"})]}),Object(y.jsxs)("p",{className:"mt-3",children:["Don't have an Account? ",Object(y.jsx)(i.b,{to:"/register",children:"Sign Up"})]})]})})),E=function(){return Object(y.jsx)("div",{children:"Dashboard"})},I=n(11),U=n(30),_=n(31),D={isAuthenticated:null},P=Object(I.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case p:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1});case O:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!0});case f:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!1});default:return e}}}),G=[_.a],q=Object(I.createStore)(P,{},Object(U.composeWithDevTools)(I.applyMiddleware.apply(void 0,G))),J=function(){return Object(y.jsx)(l.a,{store:q,children:Object(y.jsx)(i.a,{children:Object(y.jsx)(S,{children:Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{exact:!0,path:"/",element:Object(y.jsx)(k,{})}),Object(y.jsx)(o.b,{exact:!0,path:"/register",element:Object(y.jsx)(F,{})}),Object(y.jsx)(o.b,{exact:!0,path:"/login",element:Object(y.jsx)(R,{})}),Object(y.jsx)(o.b,{exact:!0,path:"/dashboard",element:Object(y.jsx)(E,{})})]})})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(J,{})}),document.getElementById("root")),X()}},[[64,1,2]]]);
//# sourceMappingURL=main.9d37d913.chunk.js.map